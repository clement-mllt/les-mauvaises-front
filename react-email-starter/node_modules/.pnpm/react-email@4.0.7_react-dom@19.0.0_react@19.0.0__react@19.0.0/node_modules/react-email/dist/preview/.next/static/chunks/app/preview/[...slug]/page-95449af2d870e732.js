(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[719],{114:(e,t,a)=>{"use strict";a.d(t,{default:()=>Q});var r=a(2060),s=a(6498),n=a(7280),l=a(4881),i=a(9148),o=a(6441),c=a(1329),d=a(4112);a(9958),a(7053),a(6017);var u=a(2792),h=a(5890);let m=n.forwardRef((e,t)=>{let{as:a="span",size:s="2",color:n="gray",transform:l,weight:i="normal",className:o,children:c,...d}=e;return(0,r.jsx)(u.DX,{className:(0,h.cn)(o,l,x(s),p(n),f(i)),ref:t,...d,children:(0,r.jsx)(a,{children:c})})}),x=e=>{switch(e){case"1":return"text-xs";case void 0:case"2":return"text-sm";case"3":return"text-base";case"4":return"text-lg";case"5":return["text-17px","md:text-xl tracking-[-0.16px]"];case"6":return"text-2xl tracking-[-0.288px]";case"7":return"text-[28px] leading-[34px] tracking-[-0.416px]";case"8":return"text-[35px] leading-[42px] tracking-[-0.64px]";case"9":return"text-6xl leading-[73px] tracking-[-0.896px]";default:return(0,h.HB)(e)}},p=e=>{switch(e){case"white":return"text-slate-12";case void 0:case"gray":return"text-slate-11";default:return(0,h.HB)(e)}},f=e=>{switch(e){case void 0:case"normal":return"font-normal";case"medium":return"font-medium";default:return(0,h.HB)(e)}};m.displayName="Text";var g=a(5314),j=a(2480),b=a(813);let v={type:"spring",stiffness:2e3,damping:80,mass:1};var w=a(5414);let y=n.forwardRef((e,t)=>{let{children:a,className:s,...n}=e;return(0,r.jsx)("button",{type:"button",...n,className:(0,h.cn)("focus:ring-gray-8 rounded text-slate-11 transition duration-200 ease-in-out hover:text-slate-12 focus:text-slate-12 focus:outline-none focus:ring-2",s),ref:t,children:a})});y.displayName="IconButton";var C=a(1173),k=a(8700);let N=n.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsxs)(k.z,{ref:t,...a,children:[(0,r.jsx)("path",{d:"M9 6.75H7.75C6.64543 6.75 5.75 7.64543 5.75 8.75V17.25C5.75 18.3546 6.64543 19.25 7.75 19.25H16.25C17.3546 19.25 18.25 18.3546 18.25 17.25V8.75C18.25 7.64543 17.3546 6.75 16.25 6.75H15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M14 8.25H10C9.44772 8.25 9 7.80228 9 7.25V5.75C9 5.19772 9.44772 4.75 10 4.75H14C14.5523 4.75 15 5.19772 15 5.75V7.25C15 7.80228 14.5523 8.25 14 8.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M9.75 12.25H14.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M9.75 15.25H14.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})});N.displayName="IconClipboard";let S=n.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)(k.z,{ref:t,...a,children:(0,r.jsx)("path",{d:"M4.75 14.75v1.5a3 3 0 0 0 3 3h8.5a3 3 0 0 0 3-3v-1.5M12 14.25v-9.5M8.75 10.75l3.25 3.5 3.25-3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})})});S.displayName="IconDownload";var L=a(6783);let R=e=>{let{markups:t,activeLang:a,setActiveLang:s}=e,n=t.find(e=>{let{language:t}=e;return a===t});if(!n)throw Error("No markup found for the active language!",{cause:{activeLang:a,markups:t}});return(0,r.jsxs)("div",{className:"relative max-h-[650px] w-full h-full whitespace-pre rounded-md border border-slate-6 text-sm",style:{lineHeight:"130%",background:"linear-gradient(145.37deg, rgba(255, 255, 255, 0.09) -8.75%, rgba(255, 255, 255, 0.027) 83.95%)",boxShadow:"rgb(0 0 0 / 10%) 0px 5px 30px -5px"},children:[(0,r.jsxs)("div",{className:"h-9 border-b border-slate-6",children:[(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)(j.o,{id:"code",children:t.map(e=>{let{language:t}=e,n=a===t;return(0,r.jsxs)(b.P.button,{className:"relative px-4 py-[8px] font-sans text-sm font-medium transition duration-200 ease-in-out hover:text-slate-12 ".concat(a!==t?"text-slate-11":"text-slate-12"),onClick:()=>{s(t)},children:[n?(0,r.jsx)(b.P.span,{animate:{opacity:1},className:"absolute bottom-0 left-0 right-0 top-0 bg-slate-4",exit:{opacity:0},initial:{opacity:0},layoutId:"code",transition:v}):null,w.A[t]]},t)})})}),(0,r.jsx)(M,{content:n.content}),(0,r.jsx)(T,{content:n.content,filename:"email.".concat(n.language)})]}),(0,r.jsx)("div",{className:"h-[calc(100%-2.25rem)]",children:(0,r.jsx)(d.Code,{language:a,children:n.content})})]})},M=e=>{let{content:t}=e,[a,s]=n.useState(!1),l=n.useRef(void 0);return n.useEffect(()=>{s(!1),clearTimeout(l.current),l.current=void 0},[t]),(0,r.jsxs)(L.m,{children:[(0,r.jsx)(L.m.Trigger,{asChild:!0,className:"absolute right-2 top-2 hidden md:block",children:(0,r.jsx)(y,{onClick:async()=>{s(!0),await (0,h.eM)(t),l.current=setTimeout(()=>{s(!1)},3e3)},children:a?(0,r.jsx)(C.i,{}):(0,r.jsx)(N,{})})}),(0,r.jsx)(L.m.Content,{children:"Copy to Clipboard"})]})},T=e=>{let{content:t,filename:a}=e,s=n.useMemo(()=>{let e=new File([t],a);return URL.createObjectURL(e)},[t,a]),l=n.useSyncExternalStore(()=>()=>{},()=>s,()=>void 0);return(0,r.jsxs)(L.m,{children:[(0,r.jsx)(L.m.Trigger,{asChild:!0,className:"text-gray-11 absolute right-8 top-2 hidden md:block",children:(0,r.jsx)("a",{className:"text-slate-11 transition duration-200 ease-in-out hover:text-slate-12",download:a,href:l,children:(0,r.jsx)(S,{})})}),(0,r.jsx)(L.m.Content,{children:"Download"})]})},H=e=>{var t,a;let r=t=>{let a=e.getBoundingClientRect();document.dispatchEvent(new MouseEvent("mousemove",{...t,clientX:t.clientX+a.x,clientY:t.clientY+a.y}))},s=e=>{document.dispatchEvent(new MouseEvent("mouseup",e))};return null===(t=e.contentDocument)||void 0===t||t.addEventListener("mousemove",r),null===(a=e.contentDocument)||void 0===a||a.addEventListener("mouseup",s),()=>{var t,a;null===(t=e.contentDocument)||void 0===t||t.removeEventListener("mousemove",r),null===(a=e.contentDocument)||void 0===a||a.removeEventListener("mouseup",s)}},P=e=>{let{width:t,height:a,onResize:s,onResizeEnd:l,children:i,maxHeight:o,maxWidth:c,minHeight:d,minWidth:m,...x}=e,p=(0,n.useRef)(null),f=(0,n.useRef)(null),g=(0,n.useCallback)(()=>{f.current&&document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",g),null==l||l()},[]),j=e=>{f.current=t=>{if(0===t.button&&p.current){let a="east"===e||"west"===e,r=a?t.clientX:t.clientY,n=p.current.getBoundingClientRect();s(2*Math.abs(r-(a?n.x+n.width/2:n.y+n.height/2)),e)}else g()},document.addEventListener("mouseup",g),document.addEventListener("mousemove",f.current)};return(0,n.useEffect)(()=>{if(window.document)return()=>{g()}},[]),(0,r.jsxs)("div",{...x,className:(0,h.cn)("relative mx-auto my-auto box-content",x.className),children:[(0,r.jsx)("div",{"aria-label":"resize-west","aria-valuenow":t,"aria-valuemin":m,"aria-valuemax":c,className:"-translate-x-1/2 -translate-y-1/2 absolute top-1/2 left-2 cursor-w-resize p-2 [user-drag:none]",onDragStart:e=>e.preventDefault(),draggable:"false",onMouseDown:()=>{j("west")},role:"slider",tabIndex:0,children:(0,r.jsx)("div",{className:"h-8 w-1 rounded-md bg-black/30"})}),(0,r.jsx)("div",{"aria-label":"resize-east","aria-valuenow":t,"aria-valuemin":m,"aria-valuemax":c,onDragStart:e=>e.preventDefault(),className:"-translate-x-full -translate-y-1/2 absolute top-1/2 left-full cursor-e-resize p-2 [user-drag:none]",draggable:"false",onMouseDown:()=>{j("east")},role:"slider",tabIndex:0,children:(0,r.jsx)("div",{className:"h-8 w-1 rounded-md bg-black/30"})}),(0,r.jsx)("div",{"aria-label":"resize-north","aria-valuenow":a,"aria-valuemin":d,"aria-valuemax":o,onDragStart:e=>e.preventDefault(),className:"-translate-x-1/2 -translate-y-1/2 absolute top-0 left-1/2 cursor-n-resize p-2 [user-drag:none]",draggable:"false",onMouseDown:()=>{j("north")},role:"slider",tabIndex:0,children:(0,r.jsx)("div",{className:"h-1 w-8 rounded-md bg-black/30"})}),(0,r.jsx)("div",{"aria-label":"resize-south","aria-valuenow":a,"aria-valuemin":d,"aria-valuemax":o,onDragStart:e=>e.preventDefault(),className:"-translate-x-1/2 -translate-y-1/2 absolute top-full left-1/2 cursor-s-resize p-2 [user-drag:none]",draggable:"false",onMouseDown:()=>{j("south")},role:"slider",tabIndex:0,children:(0,r.jsx)("div",{className:"h-1 w-8 rounded-md bg-black/30"})}),(0,r.jsx)(u.DX,{ref:p,children:i})]})};var I=a(5561);let E=e=>{let{markup:t}=e,[a,s]=n.useState(""),[l,o]=n.useState("Testing React Email"),[d,u]=n.useState(!1),[h,x]=n.useState(!1),p=async e=>{try{e.preventDefault(),u(!0);let r=await fetch("https://react.email/api/send/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:a,subject:l,html:t})});if(429===r.status){let{error:e}=await r.json();i.oR.error(e)}i.oR.success("Email sent! Check your inbox.")}catch(e){i.oR.error("Something went wrong. Please try again.")}finally{u(!1)}};return(0,r.jsxs)(I.bL,{onOpenChange:()=>{h?(document.body.classList.remove("popup-open"),x(!1)):(document.body.classList.add("popup-open"),x(!0))},open:h,children:[(0,r.jsx)(I.l9,{asChild:!0,children:(0,r.jsx)("button",{className:"box-border flex h-5 w-20 items-center justify-center self-center rounded-lg border border-slate-6 bg-slate-2 px-4 py-4 text-center font-sans text-sm text-slate-11 outline-none transition duration-300 ease-in-out hover:border-slate-10 hover:text-slate-12",type:"submit",children:"Send"})}),(0,r.jsx)(I.Mz,{}),(0,r.jsx)(I.ZL,{children:(0,r.jsx)(I.UC,{align:"end",className:"-mt-10 w-80 rounded-lg border border-slate-6 bg-black/70 p-3 font-sans text-slate-11 shadow-md backdrop-blur-lg font-sans",sideOffset:48,children:(0,r.jsxs)("form",{className:"mt-1",onSubmit:e=>void p(e),children:[(0,r.jsx)("label",{className:"mb-2 block text-xs uppercase text-slate-10",htmlFor:"to",children:"Recipient"}),(0,r.jsx)("input",{autoFocus:!0,className:"mb-3 w-full appearance-none rounded-lg border border-slate-6 bg-slate-3 px-2 py-1 text-sm text-slate-12 placeholder-slate-10 outline-none transition duration-300 ease-in-out focus:ring-1 focus:ring-slate-10",defaultValue:a,id:"to",onChange:e=>{s(e.target.value)},placeholder:"you@example.com",required:!0,type:"email"}),(0,r.jsx)("label",{className:"mb-2 mt-1 block text-xs uppercase text-slate-10",htmlFor:"subject",children:"Subject"}),(0,r.jsx)("input",{className:"mb-3 w-full appearance-none rounded-lg border border-slate-6 bg-slate-3 px-2 py-1 text-sm text-slate-12 placeholder-slate-10 outline-none transition duration-300 ease-in-out focus:ring-1 focus:ring-slate-10",defaultValue:l,id:"subject",onChange:e=>{o(e.target.value)},placeholder:"My Email",required:!0,type:"text"}),(0,r.jsx)("input",{className:"appearance-none checked:bg-blue-500",type:"checkbox"}),(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,r.jsxs)(m,{className:"inline-block",size:"1",children:["Powered by"," ",(0,r.jsx)("a",{className:"text-white/85 transition duration-300 ease-in-out hover:text-slate-12",href:"https://resend.com",rel:"noreferrer",target:"_blank",children:"Resend"})]}),(0,r.jsx)(c.Button,{className:"disabled:border-transparent disabled:bg-slate-11",disabled:0===l.length||0===a.length||d,type:"submit",children:"Send"})]})]})})})]})};var z=a(1729),V=a(5206);let D=n.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)(k.z,{ref:t,...a,children:(0,r.jsx)("path",{d:"M9.75 15.25H17.25C18.3546 15.25 19.25 14.3546 19.25 13.25V6.75C19.25 5.64543 18.3546 4.75 17.25 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V13.25C4.75 14.3546 5.64543 15.25 6.75 15.25H9.75ZM9.75 15.25C9.75 15.25 10 18.25 8 19.25H16C14 18.25 14.25 15.25 14.25 15.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})})});D.displayName="IconMonitor";let _=n.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)(k.z,{ref:t,...a,children:(0,r.jsx)("path",{d:"M17.4 15L21 11.5L17.4 8M6.6 8L3 11.5L6.6 15M14.25 4.5L9.75 18.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})})});_.displayName="IconSource";let O=e=>{let{activeView:t,setActiveView:a}=e;return(0,r.jsxs)(V.bL,{"aria-label":"View mode",className:"inline-block items-center bg-slate-2 border border-slate-6 rounded-md overflow-hidden h-[36px]",onValueChange:e=>{e&&a(e)},type:"single",value:t,children:[(0,r.jsx)(V.q7,{value:"preview",children:(0,r.jsxs)(L.m,{children:[(0,r.jsx)(L.m.Trigger,{asChild:!0,children:(0,r.jsxs)("div",{className:(0,h.cn)("px-3 py-2 transition ease-in-out duration-200 relative hover:text-slate-12",{"text-slate-11":"desktop"!==t,"text-slate-12":"desktop"===t}),children:["preview"===t&&(0,r.jsx)(b.P.span,{animate:{opacity:1},className:"absolute left-0 right-0 top-0 bottom-0 bg-slate-4",exit:{opacity:0},initial:{opacity:0},layoutId:"topbar-tabs",transition:v}),(0,r.jsx)(D,{})]})}),(0,r.jsx)(L.m.Content,{children:"Preview"})]})}),(0,r.jsx)(V.q7,{value:"source",children:(0,r.jsxs)(L.m,{children:[(0,r.jsx)(L.m.Trigger,{asChild:!0,children:(0,r.jsxs)("div",{className:(0,h.cn)("px-3 py-2 transition ease-in-out duration-200 relative hover:text-slate-12",{"text-slate-11":"source"!==t,"text-slate-12":"source"===t}),children:["source"===t&&(0,r.jsx)(b.P.span,{animate:{opacity:1},className:"absolute left-0 right-0 top-0 bottom-0 bg-slate-4",exit:{opacity:0},initial:{opacity:0},layoutId:"topbar-tabs",transition:v}),(0,r.jsx)(_,{})]})}),(0,r.jsx)(L.m.Content,{children:"Code"})]})})]})};var F=a(3318),U=a(6943);let W=[{name:"Desktop",dimensions:{width:600,height:1024}},{name:"Mobile",dimensions:{width:375,height:812}}],B={active:{width:"3.5rem",padding:"0 0 0 0.5rem"},inactive:{width:"0"}},A=e=>{let{icon:t,isActive:a,label:s,onBlur:l,onChange:i,setIsActive:o,value:c,hasBorder:d}=e,u=n.useRef(null);return n.useEffect(()=>{a&&u.current&&u.current.focus()},[a]),(0,r.jsx)(L.m.Provider,{children:(0,r.jsxs)(L.m,{children:[(0,r.jsx)(L.m.Trigger,{asChild:!0,children:(0,r.jsxs)(b.P.button,{onClick:()=>{a?o(!1):o(!0)},className:(0,h.cn)("relative flex items-center justify-center p-2",{"border-slate-6 border-r":d}),children:[t,(0,r.jsx)(b.P.input,{ref:u,initial:!1,animate:a?"active":"inactive",className:"arrow-hide relative flex h-8 items-center justify-center bg-black text-sm outline-none",onChange:e=>i(Number.parseInt(e.currentTarget.value)),onBlur:l,type:"number",value:c,variants:B})]})}),(0,r.jsxs)(L.m.Content,{children:[(0,r.jsxs)("span",{children:[s,": "]}),(0,r.jsxs)("span",{className:"font-mono",children:[c,"px"]})]})]})})},Z=e=>{let{name:t,dimensions:a,onSelect:s}=e;return(0,r.jsxs)(F.q7,{className:"group flex w-full cursor-pointer select-none items-center justify-between rounded-md py-1.5 pr-1 pl-2 text-sm outline-none transition-colors data-[highlighted]:bg-slate-5",onClick:()=>s(a),children:[t,(0,r.jsxs)("span",{className:"flex h-fit items-center rounded-full bg-slate-6 px-2 py-1 font-medium text-slate-11 text-xs",children:[a.width,"x",a.height]})]})},Y=e=>{let{viewWidth:t,viewHeight:a,setViewWidth:s,setViewHeight:l}=e,[i,o]=n.useState(!1),[c,d]=n.useState(null),u=e=>{s(e.width),l(e.height)},m=()=>{d(null)};return(0,r.jsxs)("div",{className:"relative flex h-9 w-fit overflow-hidden rounded-lg border border-slate-6 text-sm transition-colors duration-300 ease-in-out focus-within:border-slate-8 hover:border-slate-8",children:[(0,r.jsx)(A,{icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3"}),(0,r.jsx)("path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3"}),(0,r.jsx)("path",{d:"M4 12H2"}),(0,r.jsx)("path",{d:"M10 12H8"}),(0,r.jsx)("path",{d:"M16 12h-2"}),(0,r.jsx)("path",{d:"M22 12h-2"})]}),value:t,onChange:s,isActive:"width"===c,setIsActive:e=>d(e?"width":null),onBlur:m,label:"Width",hasBorder:!0}),(0,r.jsx)(A,{icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3"}),(0,r.jsx)("path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3"}),(0,r.jsx)("path",{d:"M12 20v2"}),(0,r.jsx)("path",{d:"M12 14v2"}),(0,r.jsx)("path",{d:"M12 8v2"}),(0,r.jsx)("path",{d:"M12 2v2"})]}),value:a,onChange:l,isActive:"height"===c,setIsActive:e=>d(e?"height":null),onBlur:m,label:"Height"}),(0,r.jsxs)(F.bL,{open:i,onOpenChange:o,children:[(0,r.jsx)(F.l9,{asChild:!0,children:(0,r.jsxs)("button",{type:"button",className:"relative flex items-center justify-center overflow-hidden bg-slate-5 p-2 text-slate-11 text-sm leading-none outline-none transition-colors ease-linear focus-within:text-slate-12 hover:text-slate-12 focus:text-slate-12",children:[(0,r.jsx)("span",{className:"sr-only",children:"View presets"}),(0,r.jsx)(U.R,{className:(0,h.cn)("transform transition-transform duration-200 ease-[cubic-bezier(.36,.66,.6,1)]",{"-rotate-180":i})})]})}),(0,r.jsx)(F.ZL,{children:(0,r.jsx)(F.UC,{align:"end",className:"flex min-w-[12rem] flex-col gap-2 rounded-md border border-slate-8 border-solid bg-black px-2 py-2 text-white",sideOffset:5,children:W.map(e=>(0,r.jsx)(Z,{name:e.name,dimensions:e.dimensions,onSelect:u},e.name))})})]})]})};var J=a(7207);let X=(e,t,a)=>Math.min(Math.max(e,t),a),q=(e,t,a)=>{let[r,s]=(0,n.useState)(e);return[X(r,t,a),e=>{"function"==typeof e?s(r=>{let s=X(r,t,a);return X(e(s),t,a)}):s(X(e,t,a))}]},G=e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute inset-0 z-50 bg-black/80"}),(0,r.jsx)("div",{className:"absolute left-[50%] top-[50%] z-50 grid min-h-[50vh] w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 rounded-t-sm border border-t-4 bg-white p-6 text-black shadow-lg duration-200 sm:rounded-lg md:max-w-[568px] lg:max-w-[968px]",children:(0,r.jsxs)("div",{className:"flex min-w-0 max-w-full flex-col space-y-1.5",children:[(0,r.jsxs)("h2",{className:"flex flex-shrink items-center gap-4 pb-2 text-lg font-semibold leading-none tracking-tight",children:[(0,r.jsxs)("svg",{className:"h-6 w-6 font-extrabold text-red-600",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),(0,r.jsx)("path",{d:"M12 9v4"}),(0,r.jsx)("path",{d:"M12 17h.01"})]}),e.error.name,": ",e.error.message]}),e.error.stack?(0,r.jsx)("div",{className:"flex-grow scroll-px-4 overflow-x-auto rounded-lg bg-red-500 p-2 text-sm text-gray-100",children:(0,r.jsx)("pre",{className:"w-full min-w-0 font-mono leading-7",children:e.error.stack})}):void 0]})})]}),Q=e=>{var t,a;let{emailTitle:c,className:d,...u}=e,{renderingResult:m,renderedEmailMetadata:x}=(0,n.use)(J.o),p=(0,s.useRouter)(),f=(0,s.usePathname)(),j=(0,s.useSearchParams)(),b=null!==(t=j.get("view"))&&void 0!==t?t:"preview",v=null!==(a=j.get("lang"))&&void 0!==a?a:"jsx",w=void 0!==x,y="error"in m,[C,k]=(0,n.useState)(Number.POSITIVE_INFINITY),[N,S]=(0,n.useState)(Number.POSITIVE_INFINITY),M=j.get("width"),T=j.get("height"),[I,V]=q(M?Number.parseInt(M):600,100,C),[D,_]=q(T?Number.parseInt(T):1024,100,N),F=(0,o.YQ)(()=>{let e=new URLSearchParams(j);e.set("width",I.toString()),e.set("height",D.toString()),p.push("".concat(f,"?").concat(e.toString()).concat(location.hash))},300),{toggled:U}=(0,z.S)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(g.Topbar,{emailTitle:c,children:[(0,r.jsx)(Y,{setViewHeight:e=>{_(e),(0,l.flushSync)(()=>{F()})},setViewWidth:e=>{V(e),(0,l.flushSync)(()=>{F()})},viewHeight:D,viewWidth:I}),(0,r.jsx)(O,{activeView:b,setActiveView:e=>{let t=new URLSearchParams(j);t.set("view",e),p.push("".concat(f,"?").concat(t.toString()).concat(location.hash))}}),w?(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(E,{markup:x.markup})}):null]}),(0,r.jsxs)("div",{...u,className:(0,h.cn)("h-[calc(100%-3.5rem-2.375rem)] will-change-[height] flex p-4 transition-[height] duration-300","preview"===b&&"bg-gray-200",U&&"h-[calc(100%-3.5rem-13rem)]",d),ref:e=>{let t=new ResizeObserver(e=>{let[t]=e;t&&(k(t.contentRect.width),S(t.contentRect.height))});return e&&t.observe(e),()=>{t.disconnect()}},children:[y?(0,r.jsx)(G,{error:m.error}):null,w?(0,r.jsxs)(r.Fragment,{children:["preview"===b&&(0,r.jsx)(P,{minHeight:100,minWidth:100,maxHeight:N,maxWidth:C,height:D,onResizeEnd:()=>{F()},onResize:(e,t)=>{"east"===t||"west"===t?V(Math.round(e)):_(Math.round(e))},width:I,children:(0,r.jsx)("iframe",{className:"solid max-h-full rounded-lg bg-white",ref:e=>{if(e)return H(e)},srcDoc:x.markup,style:{width:"".concat(I,"px"),height:"".concat(D,"px")},title:c})}),"source"===b&&(0,r.jsx)("div",{className:"h-full w-full",children:(0,r.jsx)("div",{className:"m-auto h-full flex max-w-3xl p-6",children:(0,r.jsx)(L.m.Provider,{children:(0,r.jsx)(R,{activeLang:v,markups:[{language:"jsx",content:x.reactMarkup},{language:"markup",content:x.markup},{language:"markdown",content:x.plainText}],setActiveLang:e=>{let t=new URLSearchParams(j);t.set("view","source"),t.set("lang",e);let a=j.get("lang")===e;p.push("".concat(f,"?").concat(t.toString()).concat(a?location.hash:""))}})})})})]}):null,(0,r.jsx)(i.l$,{})]})]})}},1173:(e,t,a)=>{"use strict";a.d(t,{i:()=>l});var r=a(2060),s=a(7280),n=a(8700);let l=s.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)(n.z,{ref:t,...a,children:(0,r.jsx)("path",{d:"M16.25 8.75L10.406 15.25L7.75 12.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})})});l.displayName="IconCheck"},1729:(e,t,a)=>{"use strict";a.d(t,{Toolbar:()=>X,S:()=>U});var r=a(2060),s=a(4159),n=a(2480),l=a(6498),i=a(7280),o=a(5344),c=a(7207),d=a(5890),u=a(6943),h=a(1173),m=a(8700);let x=i.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)(m.z,{ref:t,...a,children:(0,r.jsx)("path",{d:"M12 4C7.58173 4 4 7.58172 4 12C4 16.4182 7.58173 20 12 20C16.4183 20 20 16.4182 20 12C20 7.58172 16.4183 4 12 4ZM5.14754 12C5.14754 8.21549 8.21551 5.14754 12 5.14754C15.7845 5.14754 18.8525 8.21549 18.8525 12C18.8525 15.7844 15.7845 18.8525 12 18.8525C8.21551 18.8525 5.14754 15.7844 5.14754 12ZM12.906 8.37648C12.906 8.87682 12.5004 9.28243 12 9.28243C11.4997 9.28243 11.0941 8.87682 11.0941 8.37648C11.0941 7.87613 11.4997 7.47053 12 7.47053C12.5004 7.47053 12.906 7.87613 12.906 8.37648ZM10.1883 10.1884H10.7922H12.0002C12.3337 10.1884 12.6041 10.4588 12.6041 10.7924V15.0201H13.2081H13.8121V16.2281H13.2081H12.0002H10.7922H10.1883V15.0201H10.7922H11.3962V11.3963H10.7922H10.1883V10.1884Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});x.displayName="IconInfo";let p=i.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)(m.z,{ref:t,...a,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.9354 12C17.9354 9.01537 15.5828 6.05264 11.9202 6.05264C8.96229 6.05264 7.50033 8.21724 6.87735 9.36841H8.72625C9.02024 9.36841 9.25858 9.60406 9.25858 9.89473C9.25858 10.1854 9.02024 10.421 8.72625 10.421H5.53232C5.23833 10.421 5 10.1854 5 9.89473V6.73684C5 6.44617 5.23833 6.21052 5.53232 6.21052C5.82631 6.21052 6.06465 6.44617 6.06465 6.73684V8.64548C6.81471 7.33819 8.54959 5 11.9202 5C16.2456 5 19 8.51094 19 12C19 15.4891 16.2456 19 11.9202 19C9.8507 19 8.12769 18.1904 6.9009 16.9562C6.24405 16.2954 5.73107 15.5148 5.38132 14.6744C5.26942 14.4057 5.39911 14.0981 5.67098 13.9875C5.94285 13.8768 6.25395 14.0051 6.36583 14.2738C6.66482 14.9921 7.10262 15.6574 7.66023 16.2183C8.69486 17.2593 10.1475 17.9474 11.9202 17.9474C15.5828 17.9474 17.9354 14.9846 17.9354 12Z",fill:"currentColor"})})});p.displayName="IconReload";var f=a(9148);let g={family:{gmail:"Gmail",outlook:"Outlook",yahoo:"Yahoo! Mail","apple-mail":"Apple Mail",aol:"AOL",thunderbird:"Mozilla Thunderbird",microsoft:"Microsoft","samsung-email":"Samsung Email",sfr:"SFR",orange:"Orange",protonmail:"ProtonMail",hey:"HEY","mail-ru":"Mail.ru",fastmail:"Fastmail",laposte:"LaPoste.net","t-online-de":"T-online.de","free-fr":"Free.fr",gmx:"GMX","web-de":"WEB.DE","ionos-1and1":"1&1",rainloop:"RainLoop","wp-pl":"WP.pl"}};var j=a(4328);let b=(0,j.createServerReference)("7f16f96e65779f5f3306ae2b2338303b0b416f731f",j.callServer,void 0,j.findSourceMapURL,"checkCompatibility");async function*v(e){let t=e.getReader();try{for(;;){let{value:e,done:a}=await t.read();if(a)break;yield e}}finally{t.releaseLock()}}let w=e=>(0,r.jsxs)("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M10.8777 8.99999L6.87766 1.99999C6.79044 1.84609 6.66396 1.71808 6.51112 1.62902C6.35828 1.53997 6.18455 1.49304 6.00766 1.49304C5.83077 1.49304 5.65704 1.53997 5.5042 1.62902C5.35136 1.71808 5.22488 1.84609 5.13766 1.99999L1.13766 8.99999C1.0495 9.15267 1.00327 9.32594 1.00366 9.50224C1.00405 9.67855 1.05105 9.85161 1.13988 10.0039C1.22872 10.1562 1.35623 10.2823 1.50951 10.3694C1.66278 10.4565 1.83636 10.5016 2.01266 10.5H10.0127C10.1881 10.4998 10.3604 10.4535 10.5123 10.3656C10.6642 10.2778 10.7903 10.1515 10.8779 9.99955C10.9656 9.84756 11.0117 9.67518 11.0116 9.49973C11.0116 9.32428 10.9654 9.15193 10.8777 8.99999Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6.0127 4.5V6.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6.0127 8.5H6.01853",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});w.displayName="IconCircleWarning";var y=a(1281),C=a.n(y);let k=e=>{let{line:t,column:a,type:s}=e,n=new URLSearchParams((0,l.useSearchParams)());n.set("view","source"),"html"===s?n.set("lang","markup"):"react"===s&&n.set("lang","jsx");let i="#L".concat(t);return(0,r.jsxs)(C(),{href:{search:n.toString(),hash:i},scroll:!1,className:"appearance-none underline mx-2",children:["L",t.toString().padStart(2,"0")]})},N=e=>{let{children:t,className:a,...s}=e;return(0,r.jsx)("table",{className:(0,d.cn)("group relative w-full border-collapse text-left text-slate-10 text-sm",a),children:(0,r.jsx)("tbody",{children:t})})};N.Row=e=>{let{children:t,className:a,...s}=e;return(0,r.jsx)("tr",{className:(0,d.cn)("border-collapse align-bottom border-slate-6 border-b last:border-b-0",a),...s,children:t})},N.Column=e=>{let{children:t,className:a,...s}=e;return(0,r.jsx)("td",{className:(0,d.cn)("py-1.5 align-bottom font-regular",a),...s,children:t})};let S=e=>{let{reactMarkup:t,emailPath:a,initialResults:r}=e,[s,n]=(0,i.useState)(r),[l,o]=(0,i.useState)(!1),c=(0,i.useRef)(!1);return[s,{loading:l,load:async()=>{if(c.current)return;c.current=!0,o(!0),n([]);let e=[];try{let r=await b(t,a);for await(let t of v(r))"error"===t.status&&n(a=>a?e=[...a,t]:[t])}catch(e){console.error(e),f.oR.error(JSON.stringify(e))}finally{o(!1),c.current=!1}return e}}]},L=e=>{let{results:t}=e;return(0,r.jsx)(N,{children:null==t?void 0:t.map((e,t)=>{let a=Object.entries(e.statsPerEmailClient).filter(e=>{let[,t]=e;return"error"===t.status}),s=a.map(e=>{let[t]=e;return g.family[t]}).join(", ");return(0,r.jsxs)(N.Row,{children:[(0,r.jsx)(N.Column,{children:(0,r.jsxs)("span",{className:"flex text-red-400 uppercase gap-2 items-center",children:[(0,r.jsx)(w,{}),(0,d.aj)(e.entry.title)]})}),(0,r.jsxs)(N.Column,{children:[a.length>0?"Not supported in ".concat(s):null,(0,r.jsx)("a",{href:e.entry.url,className:"underline ml-2 decoration-slate-9 decoration-1 hover:decoration-slate-11 transition-colors hover:text-slate-12",rel:"noreferrer",target:"_blank",children:"More ↗"})]}),(0,r.jsx)(N.Column,{className:"font-mono text-slate-11 text-right",children:(0,r.jsx)(k,{line:e.location.start.line,column:e.location.start.column,type:"react"})})]},t)})})};var R=a(3983);let M=(0,j.createServerReference)("7f1e55268ba82e0700448e6fc441e48de09c6f4aa7",j.callServer,void 0,j.findSourceMapURL,"checkImages"),T=(0,j.createServerReference)("7f25bde010272bc152185480a3dcdb4ccf6c0917ba",j.callServer,void 0,j.findSourceMapURL,"checkLinks");async function*H(e){for await(let t of e)for await(let e of v(await t.getStream())){let a=t.mapValue(e);a&&(yield a)}}let P=e=>{let{markup:t,initialRows:r}=e,[s,n]=(0,i.useState)(r),l=function(e,t){return[{getStream:()=>M(e,t),mapValue(e){if(e&&"success"!==e.status)return{result:e,source:"image"}}},{getStream:()=>T(e),mapValue(e){if(e&&"success"!==e.status)return{result:e,source:"link"}}}]}(t,"location"in a.g?"".concat(a.g.location.protocol,"//").concat(a.g.location.host):""),[o,c]=(0,i.useState)(!1),d=(0,i.useRef)(!1);return[s,{loading:o,load:async()=>{if(!d.current){d.current=!0,c(!0),n([]);try{let e=[];for await(let t of H(l))n(a=>{if(!a)return[t];let r=[...a,t];return r.sort((e,t)=>"error"===e.result.status&&"warning"===t.result.status?-1:+("warning"===e.result.status&&"error"===t.result.status)),e=r,r});return e}finally{c(!1),d.current=!1}}}}]},I=e=>{let{rows:t}=e;return void 0===t?null:(0,r.jsx)(N,{children:t.map((e,t)=>{if("link"===e.source){let a=e.result.checks.find(e=>!1===e.passed),s=[];for(let t of e.result.checks)"fetch_attempt"===t.type&&t.metadata.fetchStatusCode&&s.push((0,r.jsxs)(r.Fragment,{children:["HTTP ",t.metadata.fetchStatusCode]}));return s.push((0,r.jsx)(k,{line:e.result.codeLocation.line,column:e.result.codeLocation.column,type:"html"})),(0,r.jsxs)(E,{status:e.result.status,children:[(0,r.jsx)(E.Name,{children:(0,d.aj)(a.type)}),(0,r.jsxs)(E.Description,{children:["security"===a.type?"Insecure URL, use HTTPS instead of HTTP":null,"fetch_attempt"===a.type&&a.metadata.fetchStatusCode&&a.metadata.fetchStatusCode>=300&&a.metadata.fetchStatusCode<400?"There was a redirect, the content may have been moved":null,"fetch_attempt"===a.type&&a.metadata.fetchStatusCode&&a.metadata.fetchStatusCode>=400?"The link is broken":null,"fetch_attempt"===a.type&&void 0===a.metadata.fetchStatusCode?"The link could not be reached":null,"syntax"===a.type?"The link is broken due to invalid syntax":null,(0,r.jsx)("span",{className:"ml-2 text-ellipsis overflow-hidden text-nowrap max-w-[30ch]",children:e.result.link})]}),(0,r.jsx)(E.Metadata,{children:s})]},t)}if("image"===e.source){let a=e.result.checks.find(e=>!1===e.passed),s=[];for(let t of e.result.checks)"image_size"===t.type&&t.metadata.byteCount&&s.push((0,R.A)(t.metadata.byteCount)),"fetch_attempt"===t.type&&t.metadata.fetchStatusCode&&s.push((0,r.jsxs)(r.Fragment,{children:["HTTP ",t.metadata.fetchStatusCode]}));return s.push((0,r.jsx)(k,{line:e.result.codeLocation.line,column:e.result.codeLocation.column,type:"html"})),(0,r.jsxs)(E,{status:e.result.status,children:[(0,r.jsx)(E.Name,{children:(0,d.aj)(a.type)}),(0,r.jsxs)(E.Description,{children:["security"===a.type?"Insecure URL, use HTTPS instead of HTTP":null,"fetch_attempt"===a.type&&a.metadata.fetchStatusCode&&a.metadata.fetchStatusCode>=300&&a.metadata.fetchStatusCode<400?"There was a redirect, the image may have been moved":null,"fetch_attempt"===a.type&&a.metadata.fetchStatusCode&&a.metadata.fetchStatusCode>=400?"The image is broken":null,"fetch_attempt"===a.type&&void 0===a.metadata.fetchStatusCode?"The image could not be reached":null,"syntax"===a.type?"The image is broken due to an invalid source":null,"accessibility"===a.type?"Missing alt text":null,"image_size"===a.type&&a.metadata.byteCount?"This image is too large, keep it under 1mb":null,(0,r.jsx)("span",{className:"ml-2 text-ellipsis overflow-hidden text-nowrap max-w-[30ch]",children:e.result.source})]}),(0,r.jsx)(E.Metadata,{children:s})]},t)}})})},E=e=>{let{children:t,className:a,status:s,...n}=e;return(0,r.jsx)(N.Row,{"data-status":s,...n,className:(0,d.cn)("group/result",a),children:t})};E.Name=e=>{let{children:t,...a}=e;return(0,r.jsx)(N.Column,{...a,children:(0,r.jsxs)("span",{className:"flex uppercase gap-2 items-center group-data-[status=error]/result:text-red-400 group-data-[status=warning]/result:text-orange-300",children:[(0,r.jsx)(w,{}),"string"==typeof t?(0,d.aj)(t):t]})})},E.Description=e=>{let{children:t,className:a,...s}=e;return(0,r.jsx)(N.Column,{...s,children:t})},E.Metadata=e=>{let{children:t,className:a,...s}=e;return(0,r.jsx)(N.Column,{align:"right",...s,className:(0,d.cn)("font-mono text-slate-11",a),children:i.Children.map(t,(e,t)=>(0,r.jsxs)(r.Fragment,{children:[t>0?" \xb7 ":null,e]}))})};let z=e=>{let{markup:t,plainText:a,initialResult:r}=e,[s,n]=(0,i.useState)(r),[l,o]=(0,i.useState)(!1),c=(0,i.useRef)(!1);return[s,{loading:l,load:async()=>{if(!c.current){c.current=!0,o(!0);try{let e=await fetch("https://react.email/api/check-spam",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html:t,plainText:a})}),r=await e.json();if(!("error"in r))return n(r),r;f.oR.error(r.error)}catch(e){console.error(e),f.oR.error(JSON.stringify(e))}finally{o(!1),c.current=!1}}}}]},V=e=>{let{result:t}=e;return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsxs)(N,{children:[(0,r.jsxs)(N.Row,{className:"sticky border-b top-0 bg-black",children:[(0,r.jsx)(N.Column,{className:"uppercase",children:(0,r.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,r.jsx)(w,{className:(0,d.cn)(0===t.points?"text-green-400":null,(t.points>0&&t.points,null),t.points>1.5?"text-yellow-100":null,t.points>3?"text-orange-400":null,t.points>=5?"text-red-400":null)}),"Score"]})}),(0,r.jsx)(N.Column,{children:0===t.points?"Congratulations! Your email is clean of abuse indicators.":"Higher scores are better"}),(0,r.jsxs)(N.Column,{className:"text-right tracking-tighter font-bold",children:[(0,r.jsx)("span",{className:(0,d.cn)("text-3xl",0===t.points?"text-green-400":null,(t.points>0&&t.points,null),t.points>1.5?"text-yellow-200":null,t.points>3?"text-orange-400":null,t.points>=5?"text-red-400":null),children:(10-t.points).toFixed(1)})," ",(0,r.jsx)("span",{className:"text-lg",children:"/ 10"})]})]}),(function(e,t){let a=[...e];return a.sort(t),a})(t.checks,(e,t)=>t.points-e.points).map(e=>(0,r.jsxs)(N.Row,{children:[(0,r.jsx)(N.Column,{className:"uppercase",children:(0,r.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,r.jsx)(w,{className:(0,d.cn)(e.points>1?"text-yellow-200":null,e.points>2?"text-orange-400":null,e.points>3?"text-red-400":null)}),(0,d.aj)(e.name)]})}),(0,r.jsx)(N.Column,{children:e.description}),(0,r.jsxs)(N.Column,{className:(0,d.cn)("text-right font-mono tracking-tighter",e.points>1?"text-yellow-200":null,e.points>2?"text-orange-400":null,e.points>3?"text-red-400":null),children:["-",e.points.toFixed(1)]})]},e.name))]}):null})};var D=a(813),_=a(6783);let O=e=>{let{children:t,className:a,active:s,tooltip:n,delayDuration:l=500,...i}=e;return(0,r.jsx)(_.m.Provider,{children:(0,r.jsxs)(_.m,{delayDuration:l,children:[(0,r.jsx)(_.m.Trigger,{asChild:!0,children:(0,r.jsxs)("button",{type:"button",...i,className:(0,d.cn)("h-full w-fit font-regular flex text-sm text-slate-10 items-center align-middle justify-center px-1 gap-2 relative","hover:text-slate-12 transition-colors",s&&"data-[state=active]:text-cyan-11",a),children:[t,s?(0,r.jsx)(D.P.span,{className:"-bottom-px absolute rounded-sm left-0 w-full bg-cyan-11 h-px",layoutId:"active-toolbar-button",transition:{type:"spring",bounce:.2,duration:.6}}):null]})}),n?(0,r.jsx)(_.m.Content,{children:n}):null]})})},F=e=>{let t;if("localStorage"in a.g){let r=a.g.localStorage.getItem(e);if(null!==r&&"undefined"!==r)try{t=JSON.parse(r)}catch(t){console.warn("Failed to load stored value for",e,"with value",r)}}return[(0,i.useSyncExternalStore)(()=>()=>{},()=>t,()=>void 0),function(t){"localStorage"in a.g&&a.g.localStorage.setItem(e,JSON.stringify(t))}]},U=()=>{var e;let t=null!==(e=(0,l.useSearchParams)().get("toolbar-panel"))&&void 0!==e?e:void 0;return{activeTab:t,toggled:void 0!==t}},W=e=>{let{serverLintingRows:t,serverSpamCheckingResult:a,serverCompatibilityResults:c,markup:h,reactMarkup:m,plainText:f,emailPath:g,emailSlug:j}=e,b=(0,l.usePathname)(),v=(0,l.useSearchParams)(),w=(0,l.useRouter)(),{activeTab:y,toggled:C}=U(),k=e=>{let t=new URLSearchParams(v);void 0===e?t.delete("toolbar-panel"):t.set("toolbar-panel",e),w.push("".concat(b,"?").concat(t.toString()).concat(location.hash))},[N,R]=F("spam-assassin-".concat(j.replaceAll("/","-"))),[M,{load:T,loading:H}]=z({markup:h,plainText:f,initialResult:null!=a?a:N}),[E,D]=F("linter-".concat(j.replaceAll("/","-"))),[_,{load:W,loading:X}]=P({markup:h,initialRows:null!=t?t:E}),[q,G]=F("compatibility-".concat(j.replaceAll("/","-"))),[Q,{load:$,loading:K}]=S({emailPath:g,reactMarkup:m,initialResults:null!=c?c:q});return o.Hf||(0,i.useEffect)(()=>{(async()=>{D(await W()),R(await T()),G(await $())})()},[]),(0,r.jsx)("div",{"data-toggled":C,className:(0,d.cn)("absolute bottom-0 left-0 right-0","bg-black border-t border-slate-6 group/toolbar text-xs text-slate-11 h-52 transition-transform","data-[toggled=false]:translate-y-[10.625rem]"),children:(0,r.jsx)(s.bL,{value:null!=y?y:"",onValueChange:e=>{k(e)},asChild:!0,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)(s.B8,{className:"flex gap-4 px-4 border-b border-solid border-slate-6 h-10 w-full flex-shrink-0",children:[(0,r.jsxs)(n.o,{id:"toolbar",children:[(0,r.jsx)(s.l9,{asChild:!0,value:"linter",children:(0,r.jsx)(O,{active:"linter"===y,children:"Linter"})}),(0,r.jsx)(s.l9,{asChild:!0,value:"compatibility",children:(0,r.jsx)(O,{active:"compatibility"===y,children:"Compatibility"})}),(0,r.jsx)(s.l9,{asChild:!0,value:"spam-assassin",children:(0,r.jsx)(O,{active:"spam-assassin"===y,children:"Spam"})})]}),(0,r.jsxs)("div",{className:"flex gap-0.5 ml-auto",children:[(0,r.jsx)(O,{delayDuration:0,tooltip:"linter"===y&&"The Linter tab checks all the images and links for common issues like missing alt text, broken URLs, insecure HTTP methods, and more."||"spam-assassin"===y&&"The Spam tab will look at the content and use a robust scoring framework to determine if the email is likely to be spam. Powered by SpamAssassin."||"compatibility"===y&&"The Compatibility tab shows how well the HTML/CSS is supported across mail clients like Outlook, Gmail, etc. Powered by Can I Email."||"Info",children:(0,r.jsx)(x,{size:24})}),o.Hf?null:(0,r.jsx)(O,{tooltip:"Reload",disabled:X||H,onClick:async()=>{void 0===y&&k("linter"),"spam-assassin"===y?await T():"linter"===y?await W():"compatibility"===y&&await $()},children:(0,r.jsx)(p,{size:24,className:(0,d.cn)({"animate-spin opacity-60 animate-spin-fast":X||H})})}),(0,r.jsx)(O,{tooltip:"Toggle toolbar",onClick:()=>{void 0===y?k("linter"):k(void 0)},children:(0,r.jsx)(u.R,{size:24,className:"transition-transform group-data-[toggled=false]/toolbar:rotate-180"})})]})]}),(0,r.jsxs)("div",{className:"flex-grow transition-opacity opacity-100 group-data-[toggled=false]/toolbar:opacity-0 overflow-y-auto pr-3 pl-4 pt-3",children:[(0,r.jsx)(s.UC,{value:"linter",children:X?(0,r.jsx)(B,{message:"Analyzing your code for linting issues..."}):(null==_?void 0:_.length)===0?(0,r.jsxs)(A,{children:[(0,r.jsx)(Z,{}),(0,r.jsx)(Y,{children:"All good"}),(0,r.jsx)(J,{children:"No linting issues found."})]}):(0,r.jsx)(I,{rows:null!=_?_:[]})}),(0,r.jsx)(s.UC,{value:"compatibility",children:K?(0,r.jsx)(B,{message:"Checking email compatibility..."}):(null==Q?void 0:Q.length)===0?(0,r.jsxs)(A,{children:[(0,r.jsx)(Z,{}),(0,r.jsx)(Y,{children:"Great compatibility"}),(0,r.jsx)(J,{children:"Template should render properly everywhere."})]}):(0,r.jsx)(L,{results:null!=Q?Q:[]})}),(0,r.jsx)(s.UC,{value:"spam-assassin",children:H?(0,r.jsx)(B,{message:"Evaluating your email for spam indicators..."}):(null==M?void 0:M.isSpam)===!1?(0,r.jsxs)(A,{children:[(0,r.jsx)(Z,{}),(0,r.jsx)(Y,{children:"10/10"}),(0,r.jsx)(J,{children:"Your email is clean of abuse indicators."})]}):(0,r.jsx)(V,{result:M})})]})]})})})},B=e=>{let{message:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-8",children:[(0,r.jsxs)("div",{className:"relative mb-8 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-cyan-400/80 to-cyan-600/80 opacity-10 blur-xl absolute m-auto left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 animate-pulse"}),(0,r.jsx)("div",{className:"h-12 w-12 rounded-full border border-slate-4 absolute m-auto left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"}),(0,r.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,r.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-white/50 border-t-transparent animate-spin-fast"})})]}),(0,r.jsx)("h3",{className:"text-slate-12 font-medium text-base mb-1",children:"Processing"}),(0,r.jsx)("p",{className:"text-slate-11 text-sm text-center max-w-[320px]",children:t})]})},A=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-col items-center justify-center pt-8",children:t})},Z=()=>(0,r.jsxs)("div",{className:"relative mb-8 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-300/20 opacity-80 to-emerald-500/30 blur-md absolute m-auto left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"}),(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-green-400/80 opacity-10 to-emerald-600/80 absolute m-auto left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 shadow-lg"}),(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 shadow-[inset_0_1px_1px_rgba(255,255,255,0.4)]",children:(0,r.jsx)(h.i,{size:24,className:"text-white drop-shadow-sm"})})]}),Y=e=>{let{children:t}=e;return(0,r.jsx)("h3",{className:"text-slate-12 font-medium text-base mb-1",children:t})},J=e=>{let{children:t}=e;return(0,r.jsx)("p",{className:"text-slate-11 text-sm text-center max-w-[320px]",children:t})},X=e=>{let{serverLintingRows:t,serverSpamCheckingResult:a,serverCompatibilityResults:s}=e,{emailPath:n,emailSlug:l,renderedEmailMetadata:o}=(0,i.use)(c.o);if(void 0===o)return null;let{markup:d,plainText:u,reactMarkup:h}=o;return(0,r.jsx)(W,{emailPath:n,emailSlug:l,markup:d,reactMarkup:h,plainText:u,serverLintingRows:t,serverSpamCheckingResult:a,serverCompatibilityResults:s})}},7207:(e,t,a)=>{"use strict";a.d(t,{o:()=>x,PreviewProvider:()=>p});var r=a(2060),s=a(6498),n=a(7280),l=a(5344),i=a(4328);let o=(0,i.createServerReference)("7fe99d27daf2ab6a7a28213cbbad9fabfb9d82e27c",i.callServer,void 0,i.findSourceMapURL,"getEmailPathFromSlug"),c=(0,i.createServerReference)("7f5ee154382bb3c1dff73287d4baa0f9b5dc95281c",i.callServer,void 0,i.findSourceMapURL,"renderEmailByPath");var d=a(4241);let u=(e,t)=>{let[a,r]=(0,n.useState)(t);return l.Hf||(0,d.a)(async t=>{for await(let a of t){let t=a.filename,s=await o(t),n=await c(s,!0);s===e&&r(n)}}),a},h={},m=(e,t,a)=>((0,n.useEffect)(()=>{"markup"in t?h[e]=t:void 0!==a&&"markup"in a&&void 0===h[e]&&(h[e]=a)},[t,e,a]),"error"in t?h[e]:t),x=(0,n.createContext)(void 0),p=e=>{let{emailSlug:t,emailPath:a,serverRenderingResult:n,children:i}=e,o=(0,s.useRouter)(),c=u(a,n),h=m(a,c,n);return l.Hf||(0,d.a)(e=>{let a=e.find(e=>e.filename.includes(t));void 0!==a&&"unlink"===a.event&&o.push("/")}),(0,r.jsx)(x.Provider,{value:{emailPath:a,emailSlug:t,renderedEmailMetadata:h,renderingResult:c},children:i})}},9232:(e,t,a)=>{Promise.resolve().then(a.bind(a,114)),Promise.resolve().then(a.bind(a,7865)),Promise.resolve().then(a.bind(a,1729)),Promise.resolve().then(a.bind(a,7207))}},e=>{var t=t=>e(e.s=t);e.O(0,[486,853,246,539,587,695,803,358],()=>t(9232)),_N_E=e.O()}]);